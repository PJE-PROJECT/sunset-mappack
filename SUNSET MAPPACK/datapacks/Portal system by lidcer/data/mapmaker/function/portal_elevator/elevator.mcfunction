
clear @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["exit_tool"]}}}]}]

tellraw @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["exit_tool"]}}}]}] ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]


give @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_clean","elevator_tool"]}}}]}] minecraft:carrot_on_a_stick[minecraft:custom_model_data=2,minecraft:custom_name='"ARRIVAL CLEAN"',minecraft:unbreakable={show_in_tooltip:0b},minecraft:hide_additional_tooltip={},minecraft:custom_data={Tags:["arrival_clean","elevator_tool"]}]
give @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted1","elevator_tool"]}}}]}] minecraft:carrot_on_a_stick[minecraft:custom_model_data=2,minecraft:custom_name='"ARRIVAL RUSTED SKIN 1"',minecraft:unbreakable={show_in_tooltip:0b},minecraft:hide_additional_tooltip={},minecraft:custom_data={Tags:["arrival_rusted1","elevator_tool"]}]
give @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted2","elevator_tool"]}}}]}] minecraft:carrot_on_a_stick[minecraft:custom_model_data=2,minecraft:custom_name='"ARRIVAL RUSTED SKIN 2"',minecraft:unbreakable={show_in_tooltip:0b},minecraft:hide_additional_tooltip={},minecraft:custom_data={Tags:["arrival_rusted2","elevator_tool"]}]
give @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_clean","elevator_tool"]}}}]}] minecraft:carrot_on_a_stick[minecraft:custom_model_data=2,minecraft:custom_name='"DEPARTURE CLEAN"',minecraft:unbreakable={show_in_tooltip:0b},minecraft:hide_additional_tooltip={},minecraft:custom_data={Tags:["departure_clean","elevator_tool"]}]
give @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted1","elevator_tool"]}}}]}] minecraft:carrot_on_a_stick[minecraft:custom_model_data=2,minecraft:custom_name='"DEPARTURE RUSTED SKIN 1"',minecraft:unbreakable={show_in_tooltip:0b},minecraft:hide_additional_tooltip={},minecraft:custom_data={Tags:["departure_rusted1","elevator_tool"]}]
give @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted2","elevator_tool"]}}}]}] minecraft:carrot_on_a_stick[minecraft:custom_model_data=2,minecraft:custom_name='"DEPARTURE RUSTED SKIN 2"',minecraft:unbreakable={show_in_tooltip:0b},minecraft:hide_additional_tooltip={},minecraft:custom_data={Tags:["departure_rusted2","elevator_tool"]}]




give @a[gamemode=creative,tag=elevator_setup,nbt=!{Inventory:[{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["exit_tool"]}}}]}] minecraft:carrot_on_a_stick[minecraft:custom_model_data=1,minecraft:custom_name='{"color":"black","text":"Aperture Science Universal Editor - Exit"}',minecraft:unbreakable={show_in_tooltip:0b},minecraft:hide_additional_tooltip={},minecraft:custom_data={Tags:["exit_tool","menu3"]}]


execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_clean","elevator_tool"]}}}}] at @s unless entity @e[tag=elevator_miniature,tag=arrival_clean] run summon minecraft:item_display ~ ~ ~ {Tags:["elevator_miniature","arrival_clean","useless"],item: {components: {"minecraft:custom_model_data": 32}, count: 1, id: "minecraft:netherite_axe"}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [16.0f, 16.0f, 16.0f], translation: [0.5f, 0.5f, 0.5f]},teleport_duration:1}
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted1","elevator_tool"]}}}}] at @s unless entity @e[tag=elevator_miniature,tag=arrival_rusted1] run summon minecraft:item_display ~ ~ ~ {Tags:["elevator_miniature","arrival_rusted1","useless"],item: {components: {"minecraft:custom_model_data": 33}, count: 1, id: "minecraft:netherite_axe"}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [16.0f, 16.0f, 16.0f], translation: [0.5f, 0.5f, 0.5f]},teleport_duration:1}
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted2","elevator_tool"]}}}}] at @s unless entity @e[tag=elevator_miniature,tag=arrival_rusted2] run summon minecraft:item_display ~ ~ ~ {Tags:["elevator_miniature","arrival_rusted2","useless"],item: {components: {"minecraft:custom_model_data": 34}, count: 1, id: "minecraft:netherite_axe"}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [16.0f, 16.0f, 16.0f], translation: [0.5f, 0.5f, 0.5f]},teleport_duration:1}
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_clean","elevator_tool"]}}}}] at @s unless entity @e[tag=elevator_miniature,tag=departure_clean] run summon minecraft:item_display ~ ~ ~ {Tags:["elevator_miniature","departure_clean","useless"],item: {components: {"minecraft:custom_model_data": 35}, count: 1, id: "minecraft:netherite_axe"}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [16.0f, 16.0f, 16.0f], translation: [0.5f, 0.5f, 0.5f]},teleport_duration:1}
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted1","elevator_tool"]}}}}] at @s unless entity @e[tag=elevator_miniature,tag=departure_rusted1] run summon minecraft:item_display ~ ~ ~ {Tags:["elevator_miniature","departure_rusted1","useless"],item: {components: {"minecraft:custom_model_data": 36}, count: 1, id: "minecraft:netherite_axe"}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [16.0f, 16.0f, 16.0f], translation: [0.5f, 0.5f, 0.5f]},teleport_duration:1}
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted2","elevator_tool"]}}}}] at @s unless entity @e[tag=elevator_miniature,tag=departure_rusted2] run summon minecraft:item_display ~ ~ ~ {Tags:["elevator_miniature","departure_rusted2","useless"],item: {components: {"minecraft:custom_model_data": 37}, count: 1, id: "minecraft:netherite_axe"}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [16.0f, 16.0f, 16.0f], translation: [0.5f, 0.5f, 0.5f]},teleport_duration:1}



execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_clean","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!arrival_clean] run tag @a[tag=elevator_setup,tag=elevator_set] remove elevator_set
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted1","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!arrival_rusted1] run tag @a[tag=elevator_setup,tag=elevator_set] remove elevator_set
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted2","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!arrival_rusted2] run tag @a[tag=elevator_setup,tag=elevator_set] remove elevator_set
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_clean","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!departure_clean] run tag @a[tag=elevator_setup,tag=elevator_set] remove elevator_set
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted1","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!departure_rusted1] run tag @a[tag=elevator_setup,tag=elevator_set] remove elevator_set
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted2","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!departure_rusted2] run tag @a[tag=elevator_setup,tag=elevator_set] remove elevator_set

execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_clean","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!arrival_clean] run tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted1","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!arrival_rusted1] run tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted2","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!arrival_rusted2] run tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_clean","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!departure_clean] run tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted1","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!departure_rusted1] run tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted2","elevator_tool"]}}}}] if entity @e[tag=elevator_miniature,tag=!departure_rusted2] run tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]


execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_clean","elevator_tool"]}}}}] run kill @e[tag=elevator_miniature,tag=!arrival_clean]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted1","elevator_tool"]}}}}] run kill @e[tag=elevator_miniature,tag=!arrival_rusted1]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["arrival_rusted2","elevator_tool"]}}}}] run kill @e[tag=elevator_miniature,tag=!arrival_rusted2]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_clean","elevator_tool"]}}}}] run kill @e[tag=elevator_miniature,tag=!departure_clean]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted1","elevator_tool"]}}}}] run kill @e[tag=elevator_miniature,tag=!departure_rusted1]
execute as @a[tag=elevator_setup,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["departure_rusted2","elevator_tool"]}}}}] run kill @e[tag=elevator_miniature,tag=!departure_rusted2]






execute as @e[type=minecraft:item_display,tag=elevator_miniature] run tp @s @p[tag=elevator_setup,tag=!elevator_set]


execute as @e[type=minecraft:item_display,tag=elevator_miniature] at @p[tag=elevator_setup,tag=!elevator_set,tag=S] run tp @s ^ ^ ^20 -180 0
execute as @e[type=minecraft:item_display,tag=elevator_miniature] at @p[tag=elevator_setup,tag=!elevator_set,tag=N] run tp @s ^ ^ ^20 0 0
execute as @e[type=minecraft:item_display,tag=elevator_miniature] at @p[tag=elevator_setup,tag=!elevator_set,tag=E] run tp @s ^ ^ ^20 90 0
execute as @e[type=minecraft:item_display,tag=elevator_miniature] at @p[tag=elevator_setup,tag=!elevator_set,tag=W] run tp @s ^ ^ ^20 -90 0


execute if entity @a[tag=!elevator_set] as @e[type=minecraft:item_display,tag=elevator_miniature] at @s align xyz run tp @s ~0.5 ~0.5 ~0.5


execute as @a[tag=elevator_setup,scores={portalgun=1..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["elevator_tool"]}}}}] at @s run playsound minecraft:entity.zombie.attack_iron_door ambient @s ~ ~ ~ 0.7 0.4
execute as @a[tag=elevator_setup,scores={portalgun=1..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{Tags:["elevator_tool"]}}}}] run tag @a add elevator_set

execute as @a[tag=elevator_set] run function mapmaker:portal_elevator/menu
